<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monte o Computador ğŸ’»</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .peca-box {
      border: 2px solid #0077cc;
      border-radius: 10px;
      padding: 0.5rem;
      cursor: grab;
      transition: transform 0.2s, background-color 0.2s;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 120px;
      height: 120px;
      background-color: #f9f9f9;
    }

    .peca-box:hover {
      transform: scale(1.05);
      background-color: #e6f4ff;
    }

    .slot {
      width: 130px;
      height: 130px;
      border: 2px dashed #ccc;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s, transform 0.2s;
    }

    .slot.correto {
      background-color: #c8f7c5;
      border-color: #3cb043;
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <header><h1>ğŸ’» Monte o Computador</h1></header>

  <nav>
    <a href="index.html">ğŸ  InÃ­cio</a>
    <a href="cliques.html">ğŸ–±ï¸ Cliques</a>
    <a href="digitacao.html">âŒ¨ï¸ DigitaÃ§Ã£o</a>
    <a href="quiz.html">ğŸ§© Quiz</a>
    <a href="progresso.html">ğŸ… Meu Progresso</a>
    <a href="downloads.html">ğŸ“„ Downloads</a>
  </nav>

  <main>
    <section>
      <p>Arraste cada peÃ§a para o local correto:</p>

      <div id="peÃ§as" style="display:flex; flex-wrap:wrap; justify-content:center; gap:1rem; margin-bottom:2rem;">
        <div class="peca-box" draggable="true" data-alvo="monitor"><div class="peca">ğŸ–¥ï¸ Monitor</div></div>
        <div class="peca-box" draggable="true" data-alvo="teclado"><div class="peca">âŒ¨ï¸ Teclado</div></div>
        <div class="peca-box" draggable="true" data-alvo="mouse"><div class="peca">ğŸ–±ï¸ Mouse</div></div>
        <div class="peca-box" draggable="true" data-alvo="cpu"><div class="peca">ğŸ§  CPU</div></div>
        <div class="peca-box" draggable="true" data-alvo="hd"><div class="peca">ğŸ’¾ HD / SSD</div></div>
        <div class="peca-box" draggable="true" data-alvo="som"><div class="peca">ğŸ”Š Caixa de Som</div></div>
        <div class="peca-box" draggable="true" data-alvo="webcam"><div class="peca">ğŸ“¸ Webcam</div></div>
        <div class="peca-box" draggable="true" data-alvo="microfone"><div class="peca"></div>ğŸ¤ Microfone</div></div>
        <div class="peca-box" draggable="true" data-alvo="roteador"><div class="peca"></div>ğŸ“¡ Roteador</div></div>
        <div class="peca-box" draggable="true" data-alvo="impressora"><div class="peca"></div>ğŸ–¨ï¸ Impressora</div></div>
        <div class="peca-box" draggable="true" data-alvo="fonte"><div class="peca"></div>âš¡ Fonte de Energia</div></div>
      </div>

      
      <div id="computador">
        <div class="slot" data-nome="monitor"><h4>Monitor</h4></div>
        <div class="slot" data-nome="teclado"><h4>Teclado</h4></div>
        <div class="slot" data-nome="mouse"><h4>Mouse</h4></div>
        <div class="slot" data-nome="cpu"><h4>CPU</h4></div>
        <div class="slot" data-nome="hd"><h4>HD / SSD</h4></div>
        <div class="slot" data-nome="som"><h4>Caixa de Som</h4></div>
        <div class="slot" data-nome="webcam"><h4>Webcam</h4></div>
        <div class="slot" data-nome="microfone"><h4>Microfone</h4></div>
        <div class="slot" data-nome="roteador"><h4>Roteador</h4></div>
        <div class="slot" data-nome="impressora"><h4>Impressora</h4></div>
        <div class="slot" data-nome="fonte"><h4>Fonte de Energia</h4></div>
      </div>


      <div id="mensagemFinal"></div>
    </section>
  </main>

  <footer><p>Â© 2025 Crispim Coelho</p></footer>

  <script>
    const pecas = document.querySelectorAll('.peca');
    const slots = document.querySelectorAll('.slot');
    const msgFinal = document.getElementById('mensagemFinal');
    let acertos = 0;
    let pontos = 0;

    function tocarSom(freq, dur = 0.1) {
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.frequency.value = freq;
      o.connect(g); g.connect(ctx.destination);
      o.start(); g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + dur);
      o.stop(ctx.currentTime + dur);
    }

    pecas.forEach(p => p.addEventListener('dragstart', e => e.dataTransfer.setData('text/plain', p.dataset.alvo)));

    slots.forEach(slot => {
      slot.addEventListener('dragover', e => e.preventDefault());
      slot.addEventListener('drop', e => {
        e.preventDefault();
        const alvo = e.dataTransfer.getData('text/plain');
        if (alvo === slot.dataset.nome && !slot.classList.contains('correto')) {
          slot.classList.add('correto');
          slot.innerHTML = `<h4>${slot.dataset.nome}</h4><p>âœ… Correto!</p>`;
          document.querySelector(`.peca[data-alvo="${alvo}"]`).style.visibility = 'hidden';
          acertos++;

          pontos += 5;
          if (pontos > 50) pontos = 50;
          
          salvarPontuacao();
          
          if (acertos === pecas.length) {
            msgFinal.textContent = "ğŸ‰ ParabÃ©ns! VocÃª montou o computador completo!";
            tocarSom(900, 0.4);
          }
        }
      });
    });

    function salvarPontuacao() {
      const dados = JSON.parse(localStorage.getItem("pontuacao")) || {};
      dados.monte = Math.max(dados.monte || 0, pontos);
      localStorage.setItem("pontuacao", JSON.stringify(dados));
    }
  </script>
</body>
</html>
